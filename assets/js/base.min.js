(function(){function s(){var a;window.location.href.indexOf("tags")!=-1?a=e:window.location.href.indexOf("categories")!=-1&&(a=f),Zap(h.tag).render(a,function(a){i.card.innerHTML=a})}function r(){if(p)var b=Math.ceil(p.length/a);if(o>b||o<1)return window.location.href="/404.html";var c=[],d={};for(var e=1;e<b+1;e++)e==o?c.push({active:"on",name:o,type:"normal"}):e==1?c.push({name:e,type:"normal"}):e==o-1?c.push({name:e,type:"normal"}):e==o+1?c.push({name:e,type:"normal"}):e==b?c.push({name:e,type:"normal"}):e>1&&e<o-1?c.push({name:"...",type:"font"}):e>o+1&&e<b?c.push({name:"...",type:"back"}):c.push({name:e,type:"normal"});c.forEach(function(a,b){if(!(a.name in d)||a.type!=d[a.name])d[a.name]=a.type,q.push(a)}),Zap(h.page).render(q,function(a){i.page.innerHTML=a});var f=p.slice(a*(o-1),a*o);Zap(h.card).render(f,function(a){i.card.innerHTML=a})}function j(){var a={},b=window.location.href,c=b.indexOf("?");if(c>0){var d=b.substring(c+1),e=d.split("&");for(var f=0,g,h;g=e[f];f++)h=e[f]=g.split("="),a[h[0]]=h.length>1?h[1]:!0}return a}"use strict";var a=10,b="https://zaptun.github.io/smog_wave",c=[],d=[],e={type:"tags"},f={type:"categories"};DATA.post.forEach(function(a,b){a.layout=="journey"?d.push(a):c.push(a)}),DATA.tags.forEach(function(a,b){e[a.name]=a.post}),DATA.categories.forEach(function(a,b){f[a.name]=a.post});var g=function(a){var b=document.querySelectorAll(a);return b[0]&&b.length==1?b[0]:b},h={card:'{{# for (var i = 0,n = d.length; i<n; i++){ var v = d[i]; }} <li> {{# if(v.img && v.img != ""){ }}<a href="{{v.url}}" target="_blank"><img src="{{v.img}}" alt=""></a> {{# } }} <div class="content"> {{# if( v.categories.length > 0 ){ }} <span class="category">{{# for (var k = 0,x = v.categories.length; k<x; k++){ var j = v.categories[k];}} <a href="'+b+'/categories?categories={{j}}">{{j}}</a> {{# } }}</span> {{# } }} <span class="date">{{(new Date(v.time*1000)).toLocaleString().split(" ")[0]}}</span> <div class="tit"><a href="{{v.url}}" target="_blank">{{v.title}}</a></div> {{# if(v.excerpt != ""){ }} <div class="excerpt">{{v.excerpt}}</div> {{# } }} <div class="readmore"> <span class="more"><a href="{{v.url}}" target="_blank">Read More</a></span> {{# if( v.tags.length > 0 ){ }} <span class="tags"> {{# for (var k = 0,x = v.tags.length; k<x; k++){ var j = v.tags[k];}} <a href="'+b+'/tags/?tags={{j}}">#{{j}}</a> {{# } }} </span> {{# } }} </div> </div> </li> {{# } }}',page:'<div class="page"> {{# for (var i = 0,n = d.length; i<n; i++){ var v = d[i];}} <span class="{{v.active}}"> {{# if(v.name == "..."){ }} {{v.name}} {{# }else{ }} <a href="javascript:void(0)" page="{{v.name}}">{{v.name}}</a> {{# } }} </span> {{# } }} </div>',tag:'<li> <div class="content">{{# for (var i in d){ var v = d[i]; }} {{# if(!/(^type$|^日本$|^journey$)/.test(i)){ }} <a class="tags_bt" href="'+b+'/{{d.type}}/?{{d.type}}={{i}}">{{i}}</span> {{# } }} {{# } }} </div></li>'},i={card:g("#box_card"),page:g("#box_page"),tag:g("#box_tag")},k=g("body").getAttribute("type"),l=j().page,m=decodeURIComponent(j().tags),n=decodeURIComponent(j().categories),o=l*1||1,p="",q=[];switch(k){case"tags":p=e[m];break;case"categories":p=f[n];break;default:p=c}p instanceof Array?r():s(),document.addEventListener("click",function(a){var b=a.target,c=b.getAttribute("page");c&&c!="..."&&(l?window.location.href=window.location.href.replace(/page\=\d?/,"page="+c):window.location.href=window.location.href.indexOf("?")=="-1"?window.location.href+"?page="+c:window.location.href+"&page="+c)})})()