function Segment(e,t,n){this.path=e,this.length=e.getTotalLength(),this.path.style.strokeDashoffset=2*this.length,this.begin=t?this.valueOf(t):0,this.end=n?this.valueOf(n):this.length,this.timer=null,this.draw(this.begin,this.end)}Segment.prototype={draw:function(e,t,n,a){if(n){var r=a.hasOwnProperty("delay")?1e3*parseFloat(a.delay):0,i=a.hasOwnProperty("easing")?a.easing:null,o=a.hasOwnProperty("callback")?a.callback:null,c=this;if(this.stop(),r)return delete a.delay,this.timer=setTimeout(function(){c.draw(e,t,n,a)},r),this.timer;var u=new Date,s=1e3/60,l=this.begin,p=this.end,f=this.valueOf(e),h=this.valueOf(t);!function e(){var t=new Date,a=(t-u)/1e3,r=a/parseFloat(n),d=r;return"function"==typeof i&&(d=i(d)),r>1?(c.stop(),d=1):c.timer=setTimeout(e,s),c.begin=l+(f-l)*d,c.end=p+(h-p)*d,c.begin<0&&(c.begin=0),c.end>c.length&&(c.end=c.length),c.begin<c.end?c.draw(c.begin,c.end):c.draw(c.begin+(c.end-c.begin),c.end-(c.end-c.begin)),r>1&&"function"==typeof o?o.call(c.context):void 0}()}else this.path.style.strokeDasharray=this.strokeDasharray(e,t)},strokeDasharray:function(e,t){return this.begin=this.valueOf(e),this.end=this.valueOf(t),[this.length,this.length+this.begin,this.end-this.begin].join(" ")},valueOf:function(e){var t=parseFloat(e);if(("string"==typeof e||e instanceof String)&&~e.indexOf("%")){var n;~e.indexOf("+")?(n=e.split("+"),t=this.percent(n[0])+parseFloat(n[1])):~e.indexOf("-")?(n=e.split("-"),t=this.percent(n[0])-parseFloat(n[1])):t=this.percent(e)}return t},stop:function(){clearTimeout(this.timer),this.timer=null},percent:function(e){return parseFloat(e)/100*this.length}},!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.ease={})}(this,function(e){"use strict";function t(e,t){return null==e||isNaN(e)?t:+e}function n(e,n){e=Math.max(1,t(e,1)),n=t(n,.3)*T;var a=n*Math.asin(1/e);return function(t){return e*Math.pow(2,10*--t)*Math.sin((a-t)/n)}}function a(e,n){e=Math.max(1,t(e,1)),n=t(n,.3)*T;var a=n*Math.asin(1/e);return function(t){return e*Math.pow(2,-10*t)*Math.sin((t-a)/n)+1}}function r(e,n){e=Math.max(1,t(e,1)),n=1.5*t(n,.3)*T;var a=n*Math.asin(1/e);return function(t){return e*((t=2*t-1)<0?Math.pow(2,10*t)*Math.sin((a-t)/n):Math.pow(2,-10*t)*Math.sin((t-a)/n)+2)/2}}function i(e){return e=t(e,1.70158),function(t){return t*t*((e+1)*t-e)}}function o(e){return e=t(e,1.70158),function(t){return--t*t*((e+1)*t+e)+1}}function c(e){return e=1.525*t(e,1.70158),function(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}}function u(e){return 1-s(1-e)}function s(e){return B>e?$*e*e:I>e?$*(e-=D)*e+F:P>e?$*(e-=L)*e+Z:$*(e-=N)*e+R}function l(e){return((e*=2)<=1?1-s(1-e):s(e-1)+1)/2}function p(e){return 1-Math.sqrt(1-e*e)}function f(e){return Math.sqrt(1- --e*e)}function h(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}function d(e){return Math.pow(2,10*e-10)}function g(e){return 1-Math.pow(2,-10*e)}function v(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function m(e){return 1-Math.cos(e*H)}function y(e){return Math.sin(e*H)}function w(e){return(1-Math.cos(C*e))/2}function b(e){return e*e*e}function M(e){return--e*e*e+1}function k(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function x(e){return e*e}function O(e){return e*(2-e)}function A(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function E(e){return+e}function S(e){return e=t(e,3),function(t){return Math.pow(t,e)}}function _(e){return e=t(e,3),function(t){return 1-Math.pow(1-t,e)}}function q(e){return e=t(e,3),function(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}}function j(e,t,n){var a=(e+="").indexOf("-");return 0>a&&(e+="-in"),arguments.length>1&&V.hasOwnProperty(e)?V[e](t,n):U.hasOwnProperty(e)?U[e]:E}var T=1/(2*Math.PI),B=4/11,D=6/11,I=8/11,F=.75,L=9/11,P=10/11,Z=.9375,N=21/22,R=63/64,$=1/B/B,C=Math.PI,H=C/2,U={"linear-in":E,"linear-out":E,"linear-in-out":E,"quad-in":x,"quad-out":O,"quad-in-out":A,"cubic-in":b,"cubic-out":M,"cubic-in-out":k,"poly-in":b,"poly-out":M,"poly-in-out":k,"sin-in":m,"sin-out":y,"sin-in-out":w,"exp-in":d,"exp-out":g,"exp-in-out":v,"circle-in":p,"circle-out":f,"circle-in-out":h,"bounce-in":u,"bounce-out":s,"bounce-in-out":l,"back-in":i(),"back-out":o(),"back-in-out":c(),"elastic-in":n(),"elastic-out":a(),"elastic-in-out":r()},V={"poly-in":S,"poly-out":_,"poly-in-out":q,"back-in":i,"back-out":o,"back-in-out":c,"elastic-in":n,"elastic-out":a,"elastic-in-out":r};e.ease=j}),!function(){"use strict";var e,t={open:"{{",close:"}}"},n={exp:function(e){return new RegExp(e,"g")},query:function(e,n,r){var i=["#([\\s\\S])+?","([^{#}])*?"][e||0];return a((n||"")+t.open+i+t.close+(r||""))},escape:function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},error:function(e,t){var n="Laytpl Error\uff1a";return"object"==typeof console&&console.error(n+e+"\n"+(t||"")),n+e}},a=n.exp,r=function(e){this.tpl=e};r.pt=r.prototype,r.pt.parse=function(e,r){var i=this,o=e,c=a("^"+t.open+"#",""),u=a(t.close+"$","");e=e.replace(/[\r\t\n]/g," ").replace(a(t.open+"#"),t.open+"# ").replace(a(t.close+"}"),"} "+t.close).replace(/\\/g,"\\\\").replace(/(?="|')/g,"\\").replace(n.query(),function(e){return e=e.replace(c,"").replace(u,""),'";'+e.replace(/\\/g,"")+'; view+="'}).replace(n.query(1),function(e){var n='"+(';return e.replace(/\s/g,"")===t.open+t.close?"":(e=e.replace(a(t.open+"|"+t.close),""),/^=/.test(e)&&(e=e.replace(/^=/,""),n='"+_escape_('),n+e.replace(/\\/g,"")+')+"')}),e='"use strict";var view = "'+e+'";return view;';try{return i.cache=e=new Function("d, _escape_",e),e(r,n.escape)}catch(e){return delete i.cache,n.error(e,o)}},r.pt.render=function(e,t){var a,r=this;return e?(a=r.cache?r.cache(e,n.escape):r.parse(r.tpl,e),t?void t(a):a):n.error("no data")},e=function(e){return"string"!=typeof e?n.error("Template not found"):new r(e)},e.config=function(e){e=e||{};for(var n in e)t[n]=e[n]},e.v="1.1","function"==typeof define?define(function(){return e}):"undefined"!=typeof exports?module.exports=e:window.Zap=e}(),function(){"use strict";function e(){var e={},t=window.location.href,n=t.indexOf("?");if(n>0)for(var a,r,i=t.substring(n+1),o=i.split("&"),c=0;a=o[c];c++)r=o[c]=a.split("="),e[r[0]]=!(r.length>1)||r[1];return e}function t(){if(v)var e=Math.ceil(v.length/a);if(g>e||g<1)return window.location.href="/404.html";for(var t=[],n={},r=1;r<e+1;r++)r==g?t.push({active:"on",name:g,type:"normal"}):1==r?t.push({name:r,type:"normal"}):r==g-1?t.push({name:r,type:"normal"}):r==g+1?t.push({name:r,type:"normal"}):r==e?t.push({name:r,type:"normal"}):r>1&&r<g-1?t.push({name:"...",type:"font"}):r>g+1&&r<e?t.push({name:"...",type:"back"}):t.push({name:r,type:"normal"});t.forEach(function(e,t){e.name in n&&e.type==n[e.name]||(n[e.name]=e.type,m.push(e))}),Zap(s.page).render(m,function(e){l.page.innerHTML=e});var i=v.slice(a*(g-1),a*g);Zap(s.card).render(i,function(e){l.card.innerHTML=e})}function n(){var e;window.location.href.indexOf("tags")!=-1?e=o:window.location.href.indexOf("categories")!=-1&&(e=c),Zap(s.tag).render(e,function(e){l.card.innerHTML=e})}var a=10,r=[],i=[],o={type:"tags"},c={type:"categories"};DATA.post.forEach(function(e,t){"journey"==e.layout?i.push(e):r.push(e)}),DATA.tags.forEach(function(e,t){o[e.name]=e.post}),DATA.categories.forEach(function(e,t){c[e.name]=e.post});var u=function(e){var t=document.querySelectorAll(e);return t[0]&&1==t.length?t[0]:t},s={card:'{{# for (var i = 0,n = d.length; i<n; i++){ var v = d[i]; }} <li> {{# if(v.img && v.img != ""){ }}<a href="{{v.url}}" target="_blank"><img src="{{v.img}}" alt=""></a> {{# } }} <div class="content"> {{# if( v.categories.length > 0 ){ }} <span class="category">{{# for (var k = 0,x = v.categories.length; k<x; k++){ var j = v.categories[k];}} <a href="'+SiteBaseurl+'/categories?categories={{j}}">{{j}}</a> {{# } }}</span> {{# } }} <span class="date">{{(new Date(v.time*1000)).toLocaleString().split(" ")[0]}}</span> <div class="tit"><a href="{{v.url}}" target="_blank">{{v.title}}</a></div> {{# if(v.excerpt != ""){ }} <div class="excerpt">{{v.excerpt}}</div> {{# } }} <div class="readmore"> <span class="more"><a href="{{v.url}}" target="_blank">Read More</a></span> {{# if( v.tags.length > 0 ){ }} <span class="tags"> {{# for (var k = 0,x = v.tags.length; k<x; k++){ var j = v.tags[k];}} <a href="'+SiteBaseurl+'/tags/?tags={{j}}">#{{j}}</a> {{# } }} </span> {{# } }} </div> </div> </li> {{# } }}',page:'<div class="page"> {{# for (var i = 0,n = d.length; i<n; i++){ var v = d[i];}} <span class="{{v.active}}"> {{# if(v.name == "..."){ }} {{v.name}} {{# }else{ }} <a href="javascript:void(0)" page="{{v.name}}">{{v.name}}</a> {{# } }} </span> {{# } }} </div>',tag:'<li> <div class="content">{{# for (var i in d){ var v = d[i]; }} {{# if(!/(^type$|^\u65e5\u672c$|^journey$)/.test(i)){ }} <a class="tags_bt" href="'+SiteBaseurl+'/{{d.type}}/?{{d.type}}={{i}}">{{i}}</span> {{# } }} {{# } }} </div></li>'},l={card:u("#box_card"),page:u("#box_page"),tag:u("#box_tag")},p=u("body").getAttribute("type"),f=e().page,h=decodeURIComponent(e().tags),d=decodeURIComponent(e().categories),g=1*f||1,v="",m=[];switch(p){case"tags":v=o[h];break;case"categories":v=c[d];break;default:v=r}v instanceof Array?t():n(),document.addEventListener("click",function(e){var t=e.target,n=t.getAttribute("page");n&&"..."!=n&&(f?window.location.href=window.location.href.replace(/page\=\d?/,"page="+n):window.location.href="-1"==window.location.href.indexOf("?")?window.location.href+"?page="+n:window.location.href+"&page="+n)});var y=document.querySelectorAll('a[href^="http"]');Array.prototype.slice.call(y),y.forEach(function(e,t){e.setAttribute("target","_blank")}),document.onkeydown=function(){event.ctrlKey&&67==window.event.keycode&&(event.returnValue=!1)},document.oncontextmenu=function(){2==event.button&&(event.returnValue=!1)}}(),function(){function e(e){e.draw("80% - 240","80%",.3,{delay:.1,callback:function(){t(e)}})}function t(e){e.draw("100% - 545","100% - 305",.6,{easing:ease.ease("elastic-out",1,.3)})}function n(e){e.draw(l-60,p+60,.1,{callback:function(){a(e)}})}function a(e){e.draw(l+120,p-120,.3,{easing:ease.ease("bounce-out",1,.3)})}function r(e){e.draw("90% - 240","90%",.1,{easing:ease.ease("elastic-in",1,.3),callback:function(){i(e)}})}function i(e){e.draw("20% - 240","20%",.3,{callback:function(){o(e)}})}function o(e){e.draw(u,s,.7,{easing:ease.ease("elastic-out",1,.3)})}function c(e){e.draw(l,p,.7,{delay:.1,easing:ease.ease("elastic-out",2,.4)})}var u=80,s=320,l=80,p=320,f=document.getElementById("pathA"),h=document.getElementById("pathB"),d=document.getElementById("pathC"),g=new Segment(f,u,s),v=new Segment(h,l,p),m=new Segment(d,u,s),y=document.getElementById("menu-icon-trigger"),w=!0,b=document.getElementById("dummy"),M=document.getElementById("menu-icon-wrapper");M.style.visibility="visible",y.onclick=function(){w?(e(g),n(v),e(m),b.className="site_nav dummy--active"):(r(g),c(v),r(m),b.className="site_nav"),w=!w}}();