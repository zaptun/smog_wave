---
layout: post
filename: 2022-08-08-JSDoc编写格式
title: JSDoc编写格式
date: 2022-08-08 13:36:29 +0800
categories: 
tags: 
---

### 返回对象结构

#### 方法一

使用@typdef单独定义结构并将其用作返回类型

```javascript
/**
 * @typedef {Object} Point
 * @property {number} x - The X Coordinate
 * @property {number} y - The Y Coordinate
 */
```

```javascript
/**
 * Returns a coordinate from a given mouse or touch event
 * @param  {TouchEvent|MouseEvent|jQuery.Event} e    
 *         A valid mouse or touch event or a jQuery event wrapping such an
 *         event. 
 * @param  {string} [type="page"]
 *         A string representing the type of location that should be
 *         returned. Can be either "page", "client" or "screen".
 * @return {Point} 
 *         The location of the event
 */
var getEventLocation = function(e, type) {
    ...

    return {x: xLocation, y: yLocation};
}
```

#### 方法二

编写一个类并返回它

```javascript
/** 
 *  @class Point
 *  @type {Object}
 *  @property {number} x The X-coordinate.
 *  @property {number} y The Y-coordinate.
 */
function Point(x, y) {
  return {
        x: x,
        y: y
    };
}

/**
 * @returns {Point} The location of the event.
 */
var getEventLocation = function(e, type) {
    ...
    return new Point(x, y);
};
```

#### 方法三

正常写法

```javascript
/**
 * Get the connection state.
 *
 * @returns {Object} connection The connection state.
 * @returns {boolean} connection.isConnected Whether the authenticated user is currently connected.
 * @returns {boolean} connection.isPending Whether the authenticated user's connection is currently pending.
 * @returns {Object} connection.error The error object if an error occurred.
 * @returns {string} connection.error.message The error message.
 * @returns {string} connection.error.stack The stack trace of the error.
 */
getConnection () {
  return {
    isConnected: true,
    isPending: false,
    error
  }
}
```

这将提供以下文档输出：

```javascript
Get the connection state.

getConnection(): Object

Returns
Object: connection The connection state.
boolean: connection.isConnected Whether the authenticated user is currently connected.
boolean: connection.isPending Whether the authenticated users connection is currently pending.
Object: connection.error The error object if an error occurred.
string: connection.error.message The error message.
string: connection.error.stack The stack trace of the error.
```

### 返回数组类型

```javascript
/**
 * 上传文件数据格式
 * @typedef {object} uploadFileType
 * @property {Array.<string>} uploadFileType.files
 * @property {string} uploadFileType.uploadPath
 */
interface uploadFileType {
  files: [string];
  uploadPath: string;
}
```