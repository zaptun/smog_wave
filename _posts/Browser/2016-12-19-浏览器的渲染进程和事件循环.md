---
layout: post
filename: 2016-12-19-浏览器的渲染进程和事件循环
title: 浏览器的进程和事件循环
date: 2016-12-19 21:11:58 +0800
categories: Browser
tags: Browser
---

### 渲染引擎的线程问题

渲染引擎采用了单线程。几乎所有操作（除了网络操作）都是在单线程中进行的。记住这个特性可以帮助我们理解浏览器的一些工作现象。

在Firefox和Safari中，该线程就是浏览器的主线程。而在Chrome浏览器中，该线程是标签进程的主线程。就是说，除了chrome每个标签页是独立的渲染引擎，其他浏览器主引擎都是渲染引擎。这就是为什么Chrome速度那么快，而又那么吃内存的其中一个原因。

网络操作可由多个并行线程执行。并行连接数是有限的（通常为2至6个，以Firefox3为例是6个）。

### 事件循环

浏览器的主线程是事件循环。它是一个无限循环，永远处于接受处理状态，并等待事件（如布局和绘制事件）发生，并进行处理。这是Firefox中关于主事件循环的代码：


```java
while(!mExiting)
    NS_ProcessNextEvent(thread);
```


----

参考：

[各浏览器呈现引擎的线程问题](http://www.nowamagic.net/academy/detail/48110658)