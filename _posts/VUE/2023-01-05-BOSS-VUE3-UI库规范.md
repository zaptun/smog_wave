---
layout: post
filename: 2023-01-05-BOSS-VUE3-UI库规范
title: BOSS-VUE3-UI库规范
date: 2023-01-05 12:49:37 +0800
categories: vue3 UI库
tags: vue3 UI库
---

<!-- [toc] -->

## 介绍

前端组件人人都在用，人人都在封装。但是使用规则、以及延伸到业务和组件的使用场景，其要求可能又不完全一样。所以本文规范出一套基本的前端组件封装要求，提供一套更加适合大众使用的前端组件封装细则，供大家参考。

## 规范目的

* 为提高团队协作效率
* 便于后台人员添加功能及前端后期优化维护
* 输出高质量的文档

常用的命名规范:
• **camelCase**（小驼峰式命名法 —— 首字母小写）
• **PascalCase**（大驼峰式命名法 —— 首字母大写）
• **kebab-case**（短横线连接式）
• **Snake**（下划线连接式）



## 结构和文件名称

### 项目名
全部采用kebab-case（短横线连接式）。 例：**my-project-name**

### 目录结构规范

目录文件夹及子文件规范, 有复数结构时，有需要时采用 kebab-case（短横线连接式）命名； 例：**array-type**

```
src                                  源码目录
|-- api                              接口，统一管理
|-- assets                           静态资源，统一管理
|-- components                       公用组件，全局文件
|-- filters                          过滤器，全局工具
|-- icons                            图标，全局资源
|-- datas                            模拟数据，临时存放
|-- lib                              外部引用的插件存放及修改文件
|-- mock                             模拟接口，临时存放
|-- router                           路由，统一管理
|-- store                            vuex, 统一管理
|-- views                            视图目录
|   |-- array-type               视图模块名
|   |-- |-- staffWorkbench.vue       模块入口页面
|   |-- |-- index-components          模块页面级组件文件夹
|   |-- |-- components               模块通用组件文件夹
```

### 文件名
**css、js、ts** 全部采用Snake（下划线连接式）
例：
menu_aboutus.png
date-picker.scss
date-util.js
shims-vue.d.ts

**vue 复用组件** 全部采用PascalCase (大驼峰)
例：BossDatePicker.vue

**vue 非组件文件** 全部采用camelCase (小驼峰)
例： BossDatePicker.vue

## 代码命名规范

### 普通变量

命名方法 ：驼峰命名法

命名规范 ：

  1. 命名必须是跟需求的内容相关的词

  2. 命名是复数的时候需要加s

```javascript
//跟需求的内容相关的词, 例如用户t票
const userTicket = "用户t票";
const userName = "用户名";

//命名是复数的时候需要加s ,表示列表数据
const lists = new Array();
```

临时变量可以简写，比如：str，num，bol，obj，fun，arr。

循环变量可以简写，比如：i，j，k 等。


### 常量

命名方法 : 全部大写

命名规范 : 使用大写字母和下划线来组合命名，下划线用以分割单词。

```javascript
const MAX_COUNT = 10
const URL = 'https://www.hellowworld.com/'
```

### 组件命名规范
官方文档推荐及使用遵循规则：
  * PascalCase (大驼峰)是最通用的声明约定
  * kebab-case (短横线分隔) 是最通用的使用约定
  
应该始终是多个单词的，根组件 App 除外,有意义的名词、简短、具有可读性，组件名应该倾向于完整单词而不是缩写，比如 **UserProfileOptions**.vue 不要缩短成 UProfOpts.vue

**公用基础组件**: 以Boss (公司名缩写简称) 开头，如：
`BossDatePicker,BossTable,BossButton`

**有父子关系的组件**: 以父组件模块名简写为开头，Item 为结尾，如:
`ToduList,ToduListItem，ToduListButtonItem`


### 使用组件

遵循 kebab-case 约定，并以短线分隔；
还有在单文件组件、字符串模板和 JSX 中没有内容的组件应该是自闭合的——但在 DOM 模板里永远不要这样做，在页面中使用组件需要前后闭合。

```vue
<boss-date-picker></boss-date-picker>
<boss-table></boss-table>
```
导入及注册组件时，遵循 PascalCase 约定
同时还需要注意：必须符合自定义元素规范: **切勿使用保留字**。

### 方法命名命名规范

1. 小驼峰式命名，统一使用动词或者动词+名词形式

```
//bad
go、nextPage、show、open、login

// good
jumpPage、openCarInfoDialog
```

2. 请求数据方法，以 data 结尾

```
//bad
takeData、confirmData、getList、postForm

// good
getListData、postFormData
```

3. 尽量使用常用单词开头（set、get、go、can、has、is）

函数方法常用的动词:

```
get 获取/set 设置,
add 增加/remove 删除
create 创建/destory 移除
start 启动/stop 停止
open 打开/close 关闭,
read 读取/write 写入
load 载入/save 保存,
create 创建/destroy 销毁
begin 开始/end 结束,
backup 备份/restore 恢复
import 导入/export 导出,
split 分割/merge 合并
inject 注入/extract 提取,
attach 附着/detach 脱离
bind 绑定/separate 分离,
view 查看/browse 浏览
edit 编辑/modify 修改,
select 选取/mark 标记
copy 复制/paste 粘贴,
undo 撤销/redo 重做
insert 插入/delete 移除,
add 加入/append 添加
clean 清理/clear 清除,
index 索引/sort 排序
find 查找/search 搜索,
increase 增加/decrease 减少
play 播放/pause 暂停,
launch 启动/run 运行
compile 编译/execute 执行,
debug 调试/trace 跟踪
observe 观察/listen 监听,
build 构建/publish 发布
input 输入/output 输出,
encode 编码/decode 解码
encrypt 加密/decrypt 解密,
compress 压缩/decompress 解压缩
pack 打包/unpack 解包,
parse 解析/emit 生成
connect 连接/disconnect 断开,
send 发送/receive 接收
download 下载/upload 上传,
refresh 刷新/synchronize 同步
update 更新/revert 复原,
lock 锁定/unlock 解锁
check out 签出/check in 签入,
submit 提交/commit 交付
push 推/pull 拉,
expand 展开/collapse 折叠
begin 起始/end 结束,
start 开始/finish 完成
enter 进入/exit 退出,
abort 放弃/quit 离开
obsolete 废弃/depreciate 废旧,
collect 收集/aggregate 聚集
```

### props 命名

在声明 prop 的时候，其命名应该始终使用 camelCase，而在模板中应该始终使用 kebab-case（短横线分隔）

```vue
<!-- bad -->
<script>
props: {
  'greeting-text': String
}
</script>

<welcome-message greetingText="hi"></welcome-message>

<!-- good -->
<script>
props: {
  greetingText: String
}
</script>

<welcome-message greeting-text="hi"></welcome-message>
```

### router
Vue Router Path 命名采用 kebab-case 格式。 用 Snake（如：/user_info）或 camelCase（如：/userInfo)的单词会被当成一个单词，搜索引擎无法区分语义。

### 自定义事件
自定义事件应始终使用 kebab-case 的事件名。
不同于组件和 prop，事件名不存在任何自动化的大小写转换。而是触发的事件名需要完全匹配监听这个事件所用的名称。而 v-on 事件监听器在 DOM 模板中会被自动转换为全小写 (因为 HTML 是大小写不敏感的)，所以 v-on:myEvent 将会变成 v-on:myevent——导致 myEvent 不可能被监听到。

```vue
<MyComponent @my-event="handlerEvent"></MyComponent>

<script lang="ts" setup>
    this.$emit('my-event');
</script>
```
而为了区分_原生事件_和_自定义事件_在 Vue 中的使用，建议除了多单词事件名使用 kebab-case 的情况下，命名还需遵守为 on + 动词 的形式

```
@on-search=“handleSearch”
@on-clear=“handleClear”
```

## vue文件相关规范

### 基本结构
```vue
<template>
  <div>
    <!--必须在div中编写页面-->
  </div>
</template>
<!-- 规范用setup写法 -->
<script lang="ts" setup>
</script>
<!--声明语言，并且添加scoped-->
<style lang="scss" scoped>
</style>
```

### v-for 设置键值
在组件上必须用 key 搭配 v-for，以便维护内部组件及其子树的状态

### v-if 和 v-for 互斥
永远不要把 v-if 和 v-for 同时用在同一个元素上。

### 带引号的 attribute 值
非空 HTML 特性值应该始终带双引号
```vue
<AppSidebar :style="{ width: sidebarWidth + 'px' }">
```

### 计算属性合理运用

将数据替换为一个计算属性，让其返回过滤后的列表

```vue
<template>
<!-- bad -->
<ul>
 <li v-for="user in users" v-if="user.isActive" :key="user.id">
   {{ user.name }}
 </li>
</ul>

<!-- good -->
<ul>
 <li v-for="user in activeUsers" :key="user.id">
   {{ user.name }}
 </li>
</ul>
</template>

<script lang="ts" setup>
const activeUsers = computed(()=>{
    return this.users.filter(function (user) {
        return user.isActive
    })
});
</script>
```

### 用指令缩写

指令有缩写一律采用缩写形式

用 : 表示 v-bind:
用 @ 表示 v-on:
用 # 表示 v-slot:’

```vue
<component
  :value="newTodoText"
  :placeholder="newTodoInstructions" 
></component>

<component
  @input="onInput"
  @focus="onFocus" 
></component>

<template #header>
  <h1>Here might be a page title</h1>
</template>
```

## 注释规范

### 单行注释

注释单独一行，不要在代码后的同一行内加注释。例如：

bad
```js
const name ="abc"; // 姓名    
```
good
```js
// 姓名
const name = "abc";    
```



## 编码规范

优秀的项目源码，即使是多人开发，看代码也如出一人之手。统一的编码规范，可使代码更易于阅读，易于理解，易于维护。按照 ESLint 格式要求编写代码;使用 ES6 风格编码;

### 定义变量使用 let ,定义常量使用 const

### 静态字符串一律使用单引号或反引号，动态字符串使用反引号
```ts
const a = 'foobar'
const b = `foo${a}bar`
const c = 'foobar'
```

### 除了三目运算，if,else 等禁止简写

```ts
// bad
if (true)
   alert(name);
console.log(name);

// bad
if (true)
alert(name);
console.log(name)

// good
if (true) {
   alert(name);
}
console.log(name);
```

### 解构赋值
1. 数组成员对变量赋值时，优先使用解构赋值

```ts
// 数组解构赋值
const arr = [1, 2, 3, 4];

// bad
const first = arr[0]
const second = arr[1]

// good
const [first, second] = arr;
```

2. 函数的参数如果是对象的成员，优先使用解构赋值
对象解构赋值
```ts
// bad
function getFullName(user) {
 const firstName = user.firstName
 const lastName = user.lastName
}

// good
function getFullName(obj) {
 const { firstName, lastName } = obj
}

// best
function getFullName({ firstName, lastName }) {}
```
### 拷贝数组
使用扩展运算符（...）拷贝数组
```ts
const items = [1, 2, 3, 4, 5]

// bad
const itemsCopy = items

// good
const itemsCopy = [...items]
```

### 使用eval，采取JSON.parse

三个原因：
    有注入风险，尤其是ajax返回数据
    不方便debug
    效率低，eval是一个执行效率很低的函数

建议： 使用new Function来代替eval的使用，最好就别用。

### 模块

如果模块只有一个输出值，就使用 export default，如果模块有多个输出值，就不使用 export default，export default 与普通的 export 不要同时使用

* 如果模块默认输出一个对象，对象名的首字母应该大写
* 如果模块默认输出一个函数，函数名的首字母应该小写

## CSS 规范

1. 统一使用"-"连字符
2. 省略值为 0 时的单位
3. 如果 CSS 可以做到，就不要使用 JS
4. 元素选择器应该避免在 scoped 中出现
    官方文档说明：在 scoped 样式中，类选择器比元素选择器更好，因为大量使用元素选择器是很慢的
5. 分类的命名方法
   * 使用单个字母加上"-"为前缀
   * 布局（grid）（.g-）
   * 模块（module）（.m-）
   * 元件（unit）（.u-）
   * 功能（function）（.f-）
   * 皮肤（skin）（.s-）
   * 状态（.z-）