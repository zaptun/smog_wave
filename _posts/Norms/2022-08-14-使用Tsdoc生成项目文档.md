---
layout: post
filename: 2022-08-14-使用Tsdoc生成项目文档
title: 使用Tsdoc生成项目文档
date: 2022-08-14 19:28:30 +0800
categories: tsdoc
tags: tsdoc
---

## 什么是Tsdoc

## 为什么用Tsdoc

## 开发中的使用

### VScode插件 
- [JSDoc Generator][1] - Crystal Spider


### 项目中配置 
- eslint插件 [eslint-plugin-tsdoc][2]

**.eslintrc.js** 文件配置

```javascript
module.exports = {
  ...
  plugins: [
    "eslint-plugin-tsdoc", 
    "@typescript-eslint"
    ],
  extends: [
    "eslint:recommended",
    "plugin:@typescript-eslint/eslint-recommended",
    "plugin:@typescript-eslint/recommended",
    "prettier/@typescript-eslint",
    "plugin:prettier/recommended",
  ],
  rules: {
    ...
    "tsdoc/syntax": "error",
    ...
  },
};
```

### Tsdoc语法

[文档][3]

```typescript
export class Math {
  /**
   * Returns the sum of two numbers.
   *
   * @remarks
   * This is our math utilities lib for shared projects.
   *
   * @param x - The first input number
   * @param y - The second input number
   * @returns The sum of `x` and `y`
   */
  static add(x: number, y: number): number {
    return x + y;
  }
}
```

### 生成文档

利用 TypeDoc 为 TypeScript 创建 API 文档

1. 安装typedoc
2. npm i typedoc -D
3. 配置
    
    **package.json**文件
   
   ```javascript
   {
       ...
       "scripts": {
          "doc": "typedoc --options ./typedoc.json",
        },
   }
   ```
    
    **typedoc.json**文件
   
   ```javascript
   {
     "entryPoints": ["index.ts"],
     "includes": ["src/*.ts"],
     "out": "docs",
     "readme": "none",
     "includeVersion": true,
     "disableSources": false
   }
   ```

   - entryPoints：设置入口点。
   - includes：指定一个目录，其中包含可以在文档注释中使用[[include:file.md]]插入到生成文档中的文件。
   - out：指定生成的文档的输出位置。
   - readme：是否在index页面展示README文件，该属性值设置为 none 时，index页面直接显示API文档内容。
   - includeVersion：是否将包的版本号添加到API文档中，默认值为 false。
   - disableSources：是否禁用反射源，默认为 false，会在API文档页面出现类似 Defined in src/ArrayUtils.ts:15 的字样，如果不想在页面上显示API对应的文件源信息，可以将此属性值设置为true。

   更多配置项信息请查看文后列举的 [TypeDoc配置项][4] 或者根据需要自行查阅官方文档。

4. 执行生成
   
   ```javascript
   yarn doc
   ```


-----

[1]:https://marketplace.visualstudio.com/items?itemName=crystal-spider.jsdoc-generator
[2]:https://www.npmjs.com/package/eslint-plugin-tsdoc
[3]:https://tsdoc.org/pages/packages/tsdoc/
[4]:http://typedoc.org/guides/options/