---
layout: post
filename: 2023-03-24-css移动端适配
title: css移动端适配
date: 2023-03-24 22:04:05 +0800
categories: 移动适配 响应式
tags: rem vw
---

常见的移动适配方案：

### 原理

利用`rem`会根据根节点`font-size`改变的特性,通过设定html的`font-size`,目标元素设置`rem`动态变化尺寸来实现动态适配.

### 具体使用

在vw出来之前，使用js监听window变化，动态js改变设置html的font-size。当vw出来之后，就可以更优的方案，不需要js监听。

换算原理: 

* 用 100vw / 设计图尺寸缩小100倍
* 按照750宽度的设计稿  就是100vw / 7.5
* 按照650宽度的设计稿  就是100vw / 6.5
* 这样 `1rem = 100px`

具体使用

```css
html {
    /* font-size: calc(100vw / 7.5); */
    /* 设计稿750 */
    font-size: 13.333333333333334vw;
    /* 设计稿650 */
    /* font-size: 15.384615384615385vw */
}
.section1 {
    /* 750设计下，宽300px,高80px 的元素 */
    width: 3rem;
    height: 0.8rem;
    /* ... */
}
```

>补： 在使用上，通常为了可维护性，我们希望源码的css写的还是实际的设计尺寸(px)，这样可以利用[postcss-pxtorem]，配置`rootValue`为`100`，在最后输出rem，实际源码还是保持设计尺寸写法，这样更便于保持源码的可读性和高可持续性

#### 完善方案
用media-query完善方案：
如果是大于750并且是移动设备单独处理font-size, 写死为: 100px
如果大于750并且是pc端，单独处理font-size

[postcss-pxtorem]:https://www.npmjs.com/package/postcss-pxtorem

